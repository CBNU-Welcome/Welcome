<!--TODO : 이원중 / 메인 페이지-->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Weclome to CBNU</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link href="style.css" rel="stylesheet">

</head>
<body>
<!--Navigation-->
<header id="header">
    <nav class="navbar navbar-expand-lg navbar-light sticky-top" style="margin-left: 30px;">
        <div class="container-fluid">
            <a class="navbar-brand" href="../main/main.html"><img src="img/cbnu_logo_eng.png" alt="cbnu_log_eng"
                                                                  class=""
                                                                  height="80" width="301"></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="menu_list">
                    <li class="menu_item">
                        <a href="../main/main.html" class="nav-style"> Home </a>
                    </li>
                    <li class="menu_item">
                        <a href="../abroad/abroad.html" class="nav-style"> Information </a>
                    </li>
                    </li>
                    <li class="menu_item">
                        <a href="../restaurant/restaurant.html" class="nav-style"> Restaurant </a>
                    </li>
                </ul>
            </div>
    </nav>
</header>
<div role="main">
    <div id="slides" class="carousel slide carousel-fade" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#slides" data-bs-slide-to="0" class="active" aria-current="true"
                    aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#slides" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#slides" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active" data-bs-interval="5000">
                <img src="img/carousel_bg_1.jpg">
                <div class="carousel-caption container" style="margin-right: 900px; width: 700px; margin-top: 50px;">
                    <!--                    <h1 class="display-2">Welcome To<br>CHUNGBUK National University</h1>-->
                    <span class="text1">Welcome To</span>
                    <span class="text2">Chungbuk National University</span>
                </div>
            </div>
            <div class="carousel-item" data-bs-interval="5000">
                <img src="img/carousel_bg_2.jpg">
            </div>
            <div class="carousel-item" data-bs-interval="5000">
                <img src="img/carousel_bg_3.jpg">
            </div>
        </div>
    </div>
</div>
<div id="informationDiv" class="container-fluid bg-grey" style="background-color: #FFFFF3">
    <div class="row" id="infoDiv1">
        <div id="infoDiv1Text" class="col-sm-6" style="text-align: right;">
            <p style="font-size: 2vw; line-height: 1.5"><b>Chungbuk National University,</b></p>
            <p>Which university studies the best</p>
            <p>Which university tries the best</p>
            <p>Which university perform the best</p>
        </div>
        <div class="col-sm-6">
            <!--                <img src="img/lib1.jpg" width="650" style="margin-top: 15px; margin-bottom: 15px;"/>-->
            <!--                <video width="650" style="margin-top: 15px; margin-bottom: 15px;" controls muted autoplay>-->
            <video width="600vw" style="margin-top: 15px; margin-bottom: 15px;" controls muted autoplay>
                <source src="vid/cbnu_promotion_vid.mp4" type="video/mp4">
            </video>
        </div>
    </div>
    <div class="row" id="infoDiv2">
        <div class="col-sm-6 infoImage" style="text-align: right">
            <img src="img/infoimg1.jpg" width="600vw" style="margin-top: 15px; margin-bottom: 15px;"/>
        </div>
        <div id="infoDiv2Text" class="col-sm-6" style="text-align: left;">
            <p style="font-size: 2vw; line-height: 1.5"><b>Get closer to your dream</b></p>
            <p>CBNU will do the best for you</p>
            <p>Everything you need is right here</p>
        </div>
    </div>
    <div class="row" id="infoDiv3">
        <div id="infoDiv3Text" class="col-sm-6"
             style="text-align: left; padding-left: 5vw; padding-right: 5vw; width: auto;margin-right: 0px;margin-left: auto">
            <p style="font-size: 2vw; line-height: 1.5; text-align: center"><b>Key Facts</b></p>
            <table id="infoTable">
                <tr>
                    <td colspan="2" bgcolor="#FFCACA"><b>History</b></td>
                </tr>
                <tr>
                    <td>Incorporated</td>
                    <td> 1951</td>
                </tr>
                <tr>
                    <td>Motto</td>
                    <td> Nova Aperio</td>
                </tr>
                <tr>
                    <td colspan="2" bgcolor="#FFCACA"><b>Campus</b></td>
                </tr>
                <tr>
                    <td>Location</td>
                    <td> Cheongju, Chungbuk    </td>
                </tr>
                <tr>
                    <td>Size</td>
                    <td> 956,000m<sup>2</sup></td>
                </tr>
                <tr>
                    <td>Student residences  </td>
                    <td> 11 buildings</td>
                </tr>
                <tr>
                    <td colspan="2" bgcolor="#FFCACA"><b>Admissions(Class of 2020)</b></td>
                </tr>
                <tr>
                    <td>Applicants</td>
                    <td> 18,490</td>
                </tr>

            </table>
        </div>
        <div class="col-sm-6 infoImage">
            <img src="img/infoimg2.jpg" width="600vw" style="margin-top: 15px; margin-bottom: 15px;"/>
        </div>
    </div>
</div>
<div id="wayToCBNUDiv" style="background-color: beige; padding-top: 30px; padding-bottom: 30px;">
    <div class="row">
        <div class="col-sm-6">
            <div id="wayMapDiv" style="width: 70vh; height: 50vh;margin-left: auto;margin-right: 0px;"></div>
        </div>
        <div class="col-sm-6">
            <div id="tempDiv" style="margin-top: 7vh">
                <p id="tempString" style="font-size: 2vw; line-height: 1.5;"><b>Bus stops Near CBNU </b></p>
                <button class="btn-1" id="front">Front Gate</button>
                <button class="btn-1" id="middle">Middle Gate</button>
                <br>
                <button class="btn-1" id="west">West Gate</button>
                <button class="btn-1" id="back">Back Gate</button>
            </div>
        </div>
    </div>
</div>
<footer id="footer">
    <div>
        <p>Div for Developer and Other links</p>
    </div>
    </div>

    <!--Google 지도 API 사용 스크립트-->
    <script type="text/javascript" src="config.js"></script>
    <!--TODO 이 부분 키 추가해야 함!-->
    <script
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcvWlh4WgVHdfJOQbg0WvHSYqgfs-LVG8&language=en&callback=initMap&region=kr"
            async defer></script>
    <script>
        let map;
        let markers = [];

        function initMap() {
            var mapCanvas = document.getElementById("wayMapDiv");
            var centerLoc = new google.maps.LatLng(36.62904387998785, 127.45628645377191);
            var mapOptions = {center: centerLoc, zoom: 15};
            map = new google.maps.Map(mapCanvas, mapOptions);

            google.maps.event.addDomListener(document.getElementById('front'), 'click', function (evt) {
                setBusStopMarker("front");
                smoothZoom(11);
            });
            google.maps.event.addDomListener(document.getElementById('middle'), 'click', function (evt) {
                setBusStopMarker("middle");
                smoothZoom(12);
            });
            google.maps.event.addDomListener(document.getElementById('west'), 'click', function (evt) {
                setBusStopMarker("west");
                smoothZoom(13);
            });
            google.maps.event.addDomListener(document.getElementById('back'), 'click', function (evt) {
                setBusStopMarker("back");
                smoothZoom(14);
            });
        }

        function setBusStopMarker(loc) {
            deleteMarkers();
            switch (loc) {
                case "front":
                    addMarker(36.6323038633615, 127.4527244256218); // 0
                    addMarker(36.632067662678224, 127.45223047993385); // 1
                    setMarkersListener(0, 1, -1, -1)
                    break;
                case "middle":
                    addMarker(36.633184548391675, 127.4606550985035); // 2, 중문 롯데리아 쪽
                    addMarker(36.63357358294582, 127.46069316767623); // 3, 중문 롯데리아 길 건너편
                    addMarker(36.63491035659281, 127.45940981345144); // 4,
                    setMarkersListener(2, 3, 4, -1)
                    break;
                case "west":
                    addMarker(36.62544548789886, 127.44972695581855); // 5, 서문 길 건너편
                    addMarker(36.62493918975336, 127.44991166638248); // 6, 길 안건너고
                    setMarkersListener(5, 6, -1, -1)
                    break;
                case "back":
                    addMarker(36.62422264219441, 127.4635530069435); // 7, 병원쪽
                    addMarker(36.62556259542006, 127.4635953569959); // 8, 자취방쪽
                    addMarker(36.62419193584869, 127.46444502562547); // 9, 모르는 곳
                    addMarker(36.62395246703185, 127.4642091644376); // 10, 병원 건너편
                    setMarkersListener(7, 8, 9, 10)
                    break;
            }
        }

        function setMarkersListener(pos0, pos1, pos2, pos3) {
            const contentStrings = [
                //0
                '<h5>Bus Info0</h5>' +
                '<p>' +
                '<b>004</b>, interval : -<br>' +
                '<b>50-1</b>, interval : 27min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '</p>',
                //1
                '<h5>Bus Info1</h5>' +
                '<p>' +
                '<b>003</b>, interval : -<br>' +
                '<b>007</b>, interval : -<br>' +
                '<b>50-2</b>, interval : 26min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '</p>',
                //2
                '<h5>Bus Info2</h5>' +
                '<p>' +
                '<b>20-1</b>, interval : 35min<br>' +
                '<b>30-2</b>, interval : 22min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '<b>851</b>, interval : 31min<br>' +
                '</p>',
                //3
                '<h5>Bus Info3</h5>' +
                '<p>' +
                '<b>012</b>, interval : -<br>' +
                '<b>30-1</b>, interval : 22min<br>' +
                '<b>851</b>, interval : 31min<br>' +
                '</p>',
                //4
                '<h5>Bus Info4</h5>' +
                '<p>' +
                '<b>007</b>, interval : -<br>' +
                '<b>010</b>, interval : -<br>' +
                '<b>50-2</b>, interval : 26min<br>' +
                '<b>101</b>, interval : 49min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '<b>831</b>, interval : 17min<br>' +
                '</p>',
                //5
                '<h5>Bus Info5</h5>' +
                '<p>' +
                '<b>003</b>, interval : -<br>' +
                '<b>007</b>, interval : -<br>' +
                '<b>50-2</b>, interval : 26min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '</p>',
                //6
                '<h5>Bus Info6</h5>' +
                '<p>' +
                '<b>007</b>, interval : -<br>' +
                '<b>50-1</b>, interval : 27min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '</p>',
                //7
                '<h5>Bus Info7</h5>' +
                '<p>' +
                '<b>005</b>, interval : -<br>' +
                '<b>20-1</b>, interval : 35min<br>' +
                '<b>512</b>, interval : 130min<br>' +
                '<b>512-2</b>, interval : -<br>' +
                '<b>512-3</b>, interval : 217min<br>' +
                '<b>811-1</b>, interval : -<br>' +
                '</p>',
                //8
                '<h5>Bus Info8</h5>' +
                '<p>' +
                '<b>007</b>, interval : -<br>' +
                '<b>012</b>, interval : -<br>' +
                '<b>20-2</b>, interval : -<br>' +
                '<b>30-1</b>, interval : 22min<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '<b>851</b>, interval : 31min<br>' +
                '</p>',
                //9
                '<h5>Bus Info9</h5>' +
                '<p>' +
                '<b>007</b>, interval : -<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '<b>843</b>, interval : 44min<br>' +
                '<b>851</b>, interval : 31min<br>' +
                '</p>',
                //10
                '<h5>Bus Info10</h5>' +
                '<p>' +
                '<b>710</b>, interval : -<br>' +
                '<b>823</b>, interval : 15min<br>' +
                '<b>843</b>, interval : 44min<br>' +
                '<b>851</b>, interval : 31min<br>' +
                '</p>'
            ]

            if (pos0 != -1) {
                if (pos0 == 0) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[0],
                    });
                    markers[0].addListener("click", () => {
                        // map.setZoom(16);
                        // map.setCenter(markers[0].getPosition());
                        smoothZoom(0)
                        infowindow.open(map, markers[0]);
                    });
                } else if (pos0 == 2) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[2],
                    });
                    markers[0].addListener("click", () => {
                        smoothZoom(0)
                        infowindow.open(map, markers[0])
                    })
                } else if (pos0 == 5) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[5],
                    });
                    markers[0].addListener("click", () => {
                        smoothZoom(0)
                        infowindow.open(map, markers[0])
                    })
                } else if (pos0 == 7) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[7],
                    });
                    markers[0].addListener("click", () => {
                        smoothZoom(0)
                        infowindow.open(map, markers[0])
                    })
                }
            }

            if (pos1 != -1) {
                if (pos1 == 1) {
                    const infowindow0 = new google.maps.InfoWindow({
                        content: contentStrings[1],
                    });
                    markers[1].addListener("click", () => {
                        smoothZoom(1)
                        infowindow0.open(map, markers[1])
                    });
                } else if (pos1 == 3) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[3],
                    });
                    markers[1].addListener("click", () => {
                        smoothZoom(1)
                        infowindow.open(map, markers[1])
                    })
                } else if (pos1 == 6) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[6],
                    });
                    markers[1].addListener("click", () => {
                        smoothZoom(1)
                        infowindow.open(map, markers[1])
                    })
                } else if (pos1 == 8) {
                    const infowindow = new google.maps.InfoWindow({
                        content: contentStrings[8],
                    });
                    markers[1].addListener("click", () => {
                        smoothZoom(1)
                        infowindow.open(map, markers[1])
                    })
                }
            }

            if (pos2 != -1) {
                if (pos2 == 1) {
                    const infowindow0 = new google.maps.InfoWindow({
                        content: contentStrings[1],
                    });
                    markers[2].addListener("click", () => {
                        smoothZoom(2)
                        infowindow0.open(map, markers[2])
                    });
                } else if (pos2 == 4) {
                    const infowindow0 = new google.maps.InfoWindow({
                        content: contentStrings[4],
                    });
                    markers[2].addListener("click", () => {
                        smoothZoom(2)
                        infowindow0.open(map, markers[2])
                    });
                } else if (pos2 == 9) {
                    const infowindow0 = new google.maps.InfoWindow({
                        content: contentStrings[9],
                    });
                    markers[2].addListener("click", () => {
                        smoothZoom(2)
                        infowindow0.open(map, markers[2])
                    });
                }
            }

            if (pos3 != -1) {
                if (pos3 == 1) {
                    const infowindow0 = new google.maps.InfoWindow({
                        content: contentStrings[1],
                    });
                    markers[3].addListener("click", () => {
                        smoothZoom(3)
                        infowindow0.open(map, markers[3])
                    });
                }
                if (pos3 == 10) {
                    const infowindow0 = new google.maps.InfoWindow({
                        content: contentStrings[10],
                    });
                    markers[3].addListener("click", () => {
                        smoothZoom(3)
                        infowindow0.open(map, markers[3])
                    });
                }
            }
        }

        function smoothZoom(num) {
            if (num == 11) { // 정문
                map.setZoom(16);
                map.setCenter({lat: 36.632593570811615, lng: 127.45298188113111});
            } else if (num == 12) { // 중문
                map.setZoom(16);
                map.setCenter({lat: 36.63383227446543, lng: 127.46017496421278});
            } else if (num == 13) { // 서문
                map.setZoom(16);
                map.setCenter({lat: 36.62612130015395, lng: 127.45235665681041});
            } else if (num == 14) { // 후문
                map.setZoom(16);
                map.setCenter({lat: 36.6245692753675, lng: 127.46379517859513});
            } else {
                map.setZoom(19);
                map.setCenter(markers[num].getPosition());
            }

        }


        function addMarker(lat, lng) {
            const markerLatLng = {lat: lat, lng: lng};
            const marker = new google.maps.Marker({
                position: markerLatLng,
                map: map,
            });
            markers.push(marker);
        }

        function deleteMarkers() {
            for (let i = 0; i < markers.length; i++) {
                markers[i].setMap(null);
            }
            markers = [];
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous"></script>
    <script src="./main.js"></script>
</footer>
</body>
</html>